
    const skylanders = {
                fire: [
                    { name: "Eruptor", type: "core", game: "spyros adventure", img: "images/eruptor.jpg", quote: "Born to Burn!" },
                    { name: "Eruptor (S2)", type: "core", game: "giants", img: "images/eruptor2.jpg", quote: "Born to Burn!" },
                    { name: "Eruptor (LC)", type: "core", game: "giants", img: "images/eruptor_lc.jpg", quote: "Born to Burn!" },
                    { name: "Lava Barf Eruptor (S3)", type: "core", game: "swap force", img: "images/eruptor3.jpg", quote: "Born to Burn!" },
                    { name: "Volcanic Eruptor", type: "core", game: "swap force", img: "images/volcaniceruptor.jpg", quote: "Born to Burn!" },
                    { name: "Lava Lance Eruptor", type: "super charger", game: "superchargers", img: "images/lavalanceeruptor.jpg", quote: "Born to Burn!" },
                    { name: "Flamslinger", type: "core", game: "spyros adventure", img: "images/flameslinger.jpg", quote: "Let the Flames Begin!" },
                    { name: "Flamslinger (S2)", type: "core", game: "giants", img: "images/flameslinger2.jpg", quote: "Let the Flames Begin!" },
                    { name: "Ignitor", type: "core", game: "spyros adventure", img: "images/ignitor.jpg", quote: "Slash and Burn!" },
                    { name: "Ignitor (S2)", type: "core", game: "giants", img: "images/ignitor2.jpg", quote: "Slash and Burn!" },
                    { name: "Legendary Ignitor", type: "core", game: "giants", img: "images/legendaryignitor.jpg", quote: "Slash and Burn!" },
                    { name: "Sunburn", type: "core", game: "spyros adventure", img: "images/sunburn.jpg", quote: "Roast-n-toast!" },
                    { name: "Hot Head", type: "giant", game: "giants", img: "images/hothead.jpg", quote: "Hey! I'm on Fire!" },
                    { name: "Hot Dog", type: "core", game: "giants", img: "images/hotdog.jpg", quote: "See Spot Burn!" },
                    { name: "Fire Bone Hot Dog (S2)", type: "core", game: "swap force", img: "images/hotdog2.jpg", quote: "See Spot Burn!" },
                    { name: "Molten Hot Dog", type: "core", game: "giants", img: "images/moltenhotdog.jpg", quote: "See Spot Burn!" },
                    { name: "Blast Zone", type: "swap force", game: "swap force", img: "images/blastzone.jpg", quote: "Blast and Furious!", swapType: "rocket" },
                    { name: "Dark Blast Zone", type: "swap force", game: "swap force", img: "images/darkblastzone.jpg", quote: "Blast and Furious!", swapType: "rocket" },
                    { name: "Fire Kraken", type: "swap force", game: "swap force", img: "images/firekraken.jpg", quote: "Burn to be Wild!", swapType: "bounce" },
                    { name: "Jade Fire Kraken", type: "swap force", game: "swap force", img: "images/jadefirekraken.jpg", quote: "Burn to be Wild!", swapType: "bounce" },
                    { name: "Fryno", type: "core", game: "swap force", img: "images/fryno.jpg", quote: "Crash and Burn!" },
                    { name: "Hog Wild Fryno (S2)", type: "core", game: "trap team", img: "images/fryno2.jpg", quote: "Crash and Burn!" },
                    { name: "Smolderdash", type: "core", game: "swap force", img: "images/smolderdash.jpg", quote: "A Blaze of Glory!" },
                    { name: "Smolderdash (LC)", type: "core", game: "swap force", img: "images/smolderdash_lc.jpg", quote: "A Blaze of Glory!" },
                    { name: "Ka-Boom", type: "trap master", game: "trap team", img: "images/kaboom.jpg", quote: "Boom Time!"},
                    { name: "Wildfire", type: "trap master", game: "trap team", img: "images/wildfire.jpg", quote: "Bringing The Heat!"}, 
                    { name: "Dark Wildfire", type: "trap master", game: "trap team", img: "images/darkwildfire.jpg", quote: "Bringing The Heat!"},
                    { name: "Torch", type: "core", game: "trap team", img: "images/torch.jpg", quote: "Fire It Up!"}, 
                    { name: "Trail Blazer", type: "core", game: "trap team", img: "images/trailblazer.jpg", quote: "The Mane Event!"}, 
                    { name: "Hammer Slam Bowser", type: "super charger", game: "superchargers", img: "images/hammerslambowser.jpg", quote: "Bow down to the king!"},
                    { name: "Dark Hammer Slam Bowser", type: "super charger", game: "superchargers", img: "images/darkhammerslambowser.jpg", quote: "Bow down to the king!"},
                    { name: "Spitfire", type: "super charger", game: "superchargers", img: "images/spitfire.jpg", quote: "Fuel the Fire!"},   
                    { name: "Dark Spitfire", type: "super charger", game: "superchargers", img: "images/darkspitfire.jpg", quote: "Fuel the Fire!"},   
                    { name: "Ember", type: "sensei", game: "imaginators", img: "images/ember.jpg", quote: "Fan the Flames!", battleClass: "sentinel" }, 
                    { name: "Flare Wolf", type: "sensei", game: "imaginators", img: "images/flarewolf.jpg", quote: "Ready to Rocket!", battleClass: "bazooker" },
                    { name: "Hard-Boiled Flare Wolf", type: "sensei", game: "imaginators", img: "images/hardboiledflarewolf.jpg", quote: "Ready to Rocket!", battleClass: "bazooker" },
                    { name: "Tae Kwon Crow", type: "villain sensei", game: "imaginators", img: "images/taekwoncrow.jpg", quote: "Who Dares Face Me?", vbattleClass: "ninja" }, 
                    { name: "Mystical Tae Kwon Crow", type: "villain sensei", game: "imaginators", img: "images/mysticaltaekwoncrow.jpg", quote: "Who Dares Face Me?", vbattleClass: "ninja" }, 
                
                ],
                water: [
                    { name: "Gill Grunt", type: "core", game: "spyros adventure", img: "images/gillgrunt.jpg", quote: "Fear the Fish!" },
                    { name: "Gill Grunt (S2)", type: "core", game: "giants", img: "images/gillgrunt2.jpg", quote: "Fear the Fish!" },
                    { name: "Anchors Away Gill Grunt (S3)", type: "core", game: "swap force", img: "images/gillgrunt3.jpg", quote: "Fear the Fish!" },
                    { name: "Tidal Wave Gill Grunt (S4)", type: "core", game: "trap team", img: "images/gillgrunt4.jpg", quote: "Fear the Fish!" },
                    { name: "Deep Dive Gill Grunt", type: "super charger", game: "superchargers", img: "images/deepdivegillgrunt.jpg", quote: "Fear the Fish!"}, 
                    { name: "Slam Bam", type: "core", game: "spyros adventure", img: "images/slambam.jpg", quote: "Armed and Dangerous!" },
                    { name: "Slam Bam (S2)", type: "core", game: "giants", img: "images/slambam2.jpg", quote: "Armed and Dangerous!" },
                    { name: "Legendary Slam Bam", type: "core", game: "giants", img: "images/legendaryslambam.jpg", quote: "Armed and Dangerous!" },
                    { name: "Wham-Shell", type: "core", game: "spyros adventure", img: "images/whamshell.jpg", quote: "Brace for the Mace!" },
                    { name: "Wham-Shell (LC)", type: "core", game: "swap force", img: "images/whamshell_lc.jpg", quote: "Brace for the Mace!" },
                    { name: "Zap", type: "core", game: "spyros adventure", img: "images/zap.jpg", quote: "Ride the Lightning!" },
                    { name: "Zap (S2)", type: "core", game: "giants", img: "images/zap2.jpg", quote: "Ride the Lightning!" },
                    { name: "Thumpback", type: "giant", game: "giants", img: "images/thumpback.jpg", quote: "Hail to the Whale!" },
                    { name: "Chill", type: "core", game: "giants", img: "images/chill.jpg", quote: "Stay Cool!" },
                    { name: "Chill (LC)", type: "core", game: "giants", img: "images/chill_lc.jpg", quote: "Stay Cool!" },
                    { name: "Blizzard Chill (S2)", type: "core", game: "swap force", img: "images/chill2.jpg", quote: "Stay Cool!" },
                    { name: "Legendary Chill", type: "core", game: "giants", img: "images/legendarychill.jpg", quote: "Stay Cool!" },
                    { name: "Freeze Blade", type: "swap force", game: "swap force", img: "images/freezeblade.jpg", quote: "Keeping it Cool!", swapType: "speed" },
                    { name: "Nitro Freeze Blade", type: "swap force", game: "swap force", img: "images/nitrofreezeblade.jpg", quote: "Keeping it Cool!", swapType: "speed" },
                    { name: "Wash Buckler", type: "swap force", game: "swap force", img: "images/washbuckler.jpg", quote: "Eight Legs and No Pegs!", swapType: "climb" },
                    { name: "Dark Wash Buckler", type: "swap force", game: "swap force", img: "images/darkwashbuckler.jpg", quote: "Eight Legs and No Pegs!", swapType: "climb" },
                    { name: "Punk Shock", type: "core", game: "swap force", img: "images/punkshock.jpg", quote: "Amp It Up!" },
                    { name: "Rip Tide", type: "core", game: "swap force", img: "images/riptide.jpg", quote: "Go Fish!" },
                    { name: "Lob-Star", type: "trap master", game: "trap team", img: "images/lobstar.jpg", quote: "Star Bright, Star Fight!"},
                    { name: "Winterfest Lob-Star", type: "trap master", game: "trap team", img: "images/winterfestlobstar.jpg", quote: "Star Bright, Star Fight!"},
                    { name: "Snap Shot", type: "trap master", game: "trap team", img: "images/snapshot.jpg", quote: "Croc and Roll!"},   
                    { name: "Dark Snap Shot", type: "trap master", game: "trap team", img: "images/darksnapshot.jpg", quote: "Croc and Roll!"},   
                    { name: "Echo", type: "core", game: "trap team", img: "images/echo.jpg", quote: "Let's Make Some Noise!"},          
                    { name: "Flip Wreck", type: "core", game: "trap team", img: "images/flipwreck.jpg", quote: "Making Waves!"},    
                    { name: "Dive-Clops", type: "super charger", game: "superchargers", img: "images/diveclops.jpg", quote: "Look Out Below!"}, 
                    { name: "Missile-Tow Dive-Clops", type: "super charger", game: "superchargers", img: "images/missiletowdiveclops.jpg", quote: "Look Out Below!"}, 
                    { name: "King Pen", type: "sensei", game: "imaginators", img: "images/kingpen.jpg", quote: "Stay Frosty!", battleClass: "brawler" },
                    { name: "Dark King Pen", type: "sensei", game: "imaginators", img: "images/darkkingpen.jpg", quote: "Stay Frosty!", battleClass: "brawler" },
                    { name: "Tidepool", type: "sensei", game: "imaginators", img: "images/tidepool.jpg", quote: "In a League of My Own!", battleClass: "quickshot" }, 
                    { name: "Grave Clobber", type: "villain sensei", game: "imaginators", img: "images/graveclobber.jpg", quote: "A Watery Grave Awaits!", vbattleClass: "brawler" }, 
                ],
                earth: [
                    { name: "Bash", type: "core", game: "spyros adventure", img: "images/bash.jpg", quote: "Rock and Roll!" },
                    { name: "Bash (S2)", type: "core", game: "giants", img: "images/bash2.jpg", quote: "Rock and Roll!" },
                    { name: "Legendary Bash", type: "core", game: "spyros adventure", img: "images/legendarybash.jpg", quote: "Rock and Roll!" },
                    { name: "Dino-Rang", type: "core", game: "spyros adventure", img: "images/dinorang.jpg", quote: "Come ‘Rang or Shine!" },
                    { name: "Prism Break", type: "core", game: "spyros adventure", img: "images/prismbreak.jpg", quote: "The Beam is Supreme!" },
                    { name: "Prism Break (S2)", type: "core", game: "giants", img: "images/prismbreak2.jpg", quote: "The Beam is Supreme!" },
                    { name: "Prism Break (LC)", type: "core", game: "giants", img: "images/prismbreak_lc.jpg", quote: "The Beam is Supreme!" },
                    { name: "Hyper Beam Prism Break (S3)", type: "core", game: "swap force", img: "images/prismbreak3.jpg", quote: "The Beam is Supreme!" },
                    { name: "Terrafin", type: "core", game: "spyros adventure", img: "images/terrafin.jpg", quote: "It's Feeding Time!" },
                    { name: "Terrafin (S2)", type: "core", game: "giants", img: "images/terrafin2.jpg", quote: "It's Feeding Time!" },
                    { name: "Knockout Terrafin (S3)", type: "core", game: "swap force", img: "images/terrafin3.jpg", quote: "It's Feeding Time!" },
                    { name: "Shark Shooter Terrafin", type: "super charger", game: "superchargers", img: "images/sharkshooterterrafin.jpg", quote: "It's Feeding Time!" },
                    { name: "Crusher", type: "giant", game: "giants", img: "images/crusher.jpg", quote: "It's Crush Hour!" },
                    { name: "Granite Crusher", type: "giant", game: "giants", img: "images/granitecrusher.jpg", quote: "It's Crush Hour!" },
                    { name: "Flashwing", type: "core", game: "giants", img: "images/flashwing.jpg", quote: "Blinded by the Light!" },
                    { name: "Flashwing (LC)", type: "core", game: "swap force", img: "images/flashwing_lc.jpg", quote: "Blinded by the Light!" },
                    { name: "Jade Flashwing", type: "core", game: "giants", img: "images/jadeflashwing.jpg", quote: "Blinded by the Light!" },
                    { name: "Doom Stone", type: "swap force", game: "swap force", img: "images/doomstone.jpg", quote: "Another Smash Hit!", swapType: "spin" },
                    { name: "Rubble Rouser", type: "swap force", game: "swap force", img: "images/rubblerouser.jpg", quote: "Brace for Impact!", swapType: "dig" },
                    { name: "Scorp", type: "core", game: "swap force", img: "images/scorp.jpg", quote: "King of the Sting!" },
                    { name: "Slobber Tooth", type: "core", game: "swap force", img: "images/slobbertooth.jpg", quote: "Clobber and Slobber!" },
                    { name: "Dark Slobber Tooth", type: "core", game: "swap force", img: "images/darkslobbertooth.jpg", quote: "Clobber and Slobber!" },
                    { name: "Head Rush", type: "trap master", game: "trap team", img: "images/headrush.jpg", quote: "Taking Charge!"},
                    { name: "Nitro Head Rush", type: "trap master", game: "trap team", img: "images/nitroheadrush.jpg", quote: "Taking Charge!"},
                    { name: "Wallop", type: "trap master", game: "trap team", img: "images/wallop.jpg", quote: "Hammer It Home!"}, 
                    { name: "Fist Bump", type: "core", game: "trap team", img: "images/fistbump.jpg", quote: "Knock Knock... Too Late!"},  
                    { name: "Rocky Roll", type: "core", game: "trap team", img: "images/rockyroll.jpg", quote: "Roll With It!"},   
                    { name: "Smash Hit", type: "super charger", game: "superchargers", img: "images/smashhit.jpg", quote: "Let's Rock!"},   
                    { name: "Steel Plated Smash Hit", type: "super charger", game: "superchargers", img: "images/steelplatedsmashhit.jpg", quote: "Let's Rock!"},   
                    { name: "Barbella", type: "sensei", game: "imaginators", img: "images/barbella.jpg", quote: "It's Crunch Time!", battleClass: "sentinel" }, 
                    { name: "Trip Tip", type: "sensei", game: "imaginators", img: "images/triptip.jpg", quote: "Face the Mace!", battleClass: "smasher" }, 
                    { name: "Legendary Trip Tip", type: "sensei", game: "imaginators", img: "images/legendarytriptip.jpg", quote: "Face the Mace!", battleClass: "smasher" }, 
                    { name: "Golden Queen", type: "villain sensei", game: "imaginators", img: "images/goldenqueen.jpg", quote: "I Reign Supreme!", vbattleClass: "sorcerer" }, 
                    { name: "Dark Golden Queen", type: "villain sensei", game: "imaginators", img: "images/darkgoldenqueen.jpg", quote: "I Reign Supreme!", vbattleClass: "sorcerer" }, 

                ],
                air: [
                    { name: "Lightning Rod", type: "core", game: "spyros adventure", img: "images/lightningrod.jpg", quote: "One Strike and You're Out!" },
                    { name: "Lightning Rod (S2)", type: "core", game: "giants", img: "images/lightningrod2.jpg", quote: "One Strike and You're Out!" },
                    { name: "Sonic Boom", type: "core", game: "spyros adventure", img: "images/sonicboom.jpg", quote: "Full Scream Ahead!" },
                    { name: "Sonic Boom (S2)", type: "core", game: "giants", img: "images/sonicboom2.jpg", quote: "Full Scream Ahead!" },
                    { name: "Warnado", type: "core", game: "spyros adventure", img: "images/warnado.jpg", quote: "For the Wind!" },
                    { name: "Warnado (LC)", type: "core", game: "swap force", img: "images/warnado_lc.jpg", quote: "For the Wind!" },
                    { name: "Whirlwind", type: "core", game: "spyros adventure", img: "images/whirlwind.jpg", quote: "Twists of Fury!" },
                    { name: "Whirlwind (S2)", type: "core", game: "giants", img: "images/whirlwind2.jpg", quote: "Twists of Fury!" },
                    { name: "Horn Blast Whirlwind (S3)", type: "core", game: "swap force", img: "images/whirlwind3.jpg", quote: "Twists of Fury!" },
                    { name: "Polar Whirlwind", type: "core", game: "giants", img: "images/polarwhirlwind.jpg", quote: "Twists of Fury!" },
                    { name: "Swarm", type: "giant", game: "giants", img: "images/swarm.jpg", quote: "Bring the Sting!" },
                    { name: "Jet-Vac", type: "core", game: "giants", img: "images/jetvac.jpg", quote: "Hawk and Awe!" },
                    { name: "Jet-Vac (LC)", type: "core", game: "giants", img: "images/jetvac_lc.jpg", quote: "Hawk and Awe!" },
                    { name: "Turbo Jet-Vac (S2)", type: "core", game: "swap force", img: "images/jetvac2.jpg", quote: "Hawk and Awe!" },
                    { name: "Full Blast Jet-Vac (S3)", type: "core", game: "trap team", img: "images/jetvac3.jpg", quote: "Hawk and Awe!" },
                    { name: "Legendary Jet-Vac", type: "core", game: "giants", img: "images/legendaryjetvac.jpg", quote: "Hawk and Awe!" },
                    { name: "Hurricane Jet-Vac", type: "super charger", game: "superchargers", img: "images/hurricanejetvac.jpg", quote: "Hawk and Awe!" },
                    { name: "Legendary Hurricane Jet-Vac", type: "super charger", game: "superchargers", img: "images/legendaryhurricanejetvac.jpg", quote: "Hawk and Awe!" },
                    { name: "Boom Jet", type: "swap force", game: "swap force", img: "images/boomjet.jpg", quote: "Bombs Away!", swapType: "rocket" },
                    { name: "Free Ranger", type: "swap force", game: "swap force", img: "images/freeranger.jpg", quote: "Whip Up a Storm!", swapType: "spin" },
                    { name: "Legendary Free Ranger", type: "swap force", game: "swap force", img: "images/legendaryfreeranger.jpg", quote: "Whip Up a Storm!", swapType: "spin" },
                    { name: "Pop Thorn", type: "core", game: "swap force", img: "images/popthorn.jpg", quote: "Straight to the Point!" },
                    { name: "Scratch", type: "core", game: "swap force", img: "images/scratch.jpg", quote: "The Luck of the Claw!" },
                    { name: "Gusto", type: "trap master", game: "trap team", img: "images/gusto.jpg", quote: "Gusts and Glory!"},
                    { name: "Thunderbolt", type: "trap master", game: "trap team", img: "images/thunderbolt.jpg", quote: "A Storm Is Coming!"}, 
                    { name: "Blades", type: "core", game: "trap team", img: "images/blades.jpg", quote: "Looking Sharp!"},
                    { name: "Legendary Blades", type: "core", game: "trap team", img: "images/legendaryblades.jpg", quote: "Looking Sharp!"},
                    { name: "Fling Kong", type: "core", game: "trap team", img: "images/flingkong.jpg", quote: "Monkey See, Monkey Doom!"}, 
                    { name: "Stormblade", type: "super charger", game: "superchargers", img: "images/stormblade.jpg", quote: "Feather the Storm!"},   
                    { name: "Air Strike", type: "sensei", game: "imaginators", img: "images/airstrike.jpg", quote: "Fight and Flight!", battleClass: "brawler" }, 
                    { name: "Egg Bomber Air Strike", type: "sensei", game: "imaginators", img: "images/eggbomberairstrike.jpg", quote: "Fight and Flight!", battleClass: "brawler" },    
                    { name: "Wild Storm", type: "sensei", game: "imaginators", img: "images/wildstorm.jpg", quote: "The Roar of Thunder!", battleClass: "knight" },
                    { name: "Bad Juju", type: "villain sensei", game: "imaginators", img: "images/badjuju.jpg", quote: "The Spirit is Willing!", vbattleClass: "swashbuckler" },
                    { name: "Mystical Bad Juju", type: "villain sensei", game: "imaginators", img: "images/mysticalbadjuju.jpg", quote: "The Spirit is Willing!", vbattleClass: "swashbuckler" },
                ],
                magic: [
                    { name: "Double Trouble", type: "core", game: "spyros adventure", img: "images/doubletrouble.jpg", quote: "Boom Shock-a-laka!" }, 
                    { name: "Double Trouble (S2)", type: "core", game: "giants", img: "images/doubletrouble2.jpg", quote: "Boom Shock-a-laka!" },
                    { name: "Royal Double Trouble", type: "core", game: "giants", img: "images/royaldoubletrouble.jpg", quote: "Boom Shock-a-laka!" }, 
                    { name: "Spyro", type: "core", game: "spyros adventure", img: "images/spyro.jpg", quote: "All Fired Up!" }, 
                    { name: "Spyro (S2)", type: "core", game: "giants", img: "images/spyro2.jpg", quote: "All Fired Up!" }, 
                    { name: "Mega Ram Spyro (S3)", type: "core", game: "swap force", img: "images/spyro3.jpg", quote: "All Fired Up!" },
                    { name: "Dark Spyro", type: "core", game: "spyros adventure", img: "images/darkspyro.jpg", quote: "All Fired Up!" },
                    { name: "Dark Spyro (S3)", type: "core", game: "swap force", img: "images/darkspyro3.jpg", quote: "All Fired Up!" },
                    { name: "Legendary Spyro", type: "core", game: "spyros adventure", img: "images/legendaryspyro.jpg", quote: "All Fired Up!" }, 
                    { name: "Voodood", type: "core", game: "spyros adventure", img: "images/voodood.jpg", quote: "Axe First, Questions Later!" },
                    { name: "Wrecking Ball", type: "core", game: "spyros adventure", img: "images/wreckingball.jpg", quote: "Wreck-n-roll!" },
                    { name: "Wrecking Ball (S2)", type: "core", game: "giants", img: "images/wreckingball2.jpg", quote: "Wreck-n-roll!" },
                    { name: "Ninjini", type: "giant", game: "giants", img: "images/ninjini.jpg", quote: "Any Last Wishes?" },
                    { name: "Scarlet Ninjini", type: "giant", game: "giants", img: "images/scarletninjini.jpg", quote: "Any Last Wishes?" },
                    { name: "Pop Fizz", type: "core", game: "giants", img: "images/popfizz.jpg", quote: "The Motion of the Potion!" },
                    { name: "Pop Fizz (LC)", type: "core", game: "giants", img: "images/popfizz_lc.jpg", quote: "The Motion of the Potion!" },
                    { name: "Super Gulp Pop Fizz (S2)", type: "core", game: "swap force", img: "images/popfizz2.jpg", quote: "The Motion of the Potion!" },
                    { name: "Fizzy Frenzy Pop Fizz (S3)", type: "core", game: "trap team", img: "images/popfizz3.jpg", quote: "The Motion of the Potion!" },
                    { name: "Love Potion Pop Fizz", type: "core", game: "trap team", img: "images/lovepotionpopfizz.jpg", quote: "The Motion of the Potion!" },
                    { name: "Big Bubble Pop Fizz", type: "super charger", game: "superchargers", img: "images/bigbubblepopfizz.jpg", quote: "The Motion of the Potion!"}, 
                    { name: "Birthday Bash Big Bubble Pop Fizz", type: "super charger", game: "superchargers", img: "images/birthdaybashbigbubblepopfizz.jpg", quote: "The Motion of the Potion!"}, 
                    { name: "Hoot Loop", type: "swap force", game: "swap force", img: "images/hootloop.jpg", quote: "Let's Ruffle Some Feathers!", swapType: "teleport" },
                    { name: "Enchanted Hoot Loop", type: "swap force", game: "swap force", img: "images/enchantedhootloop.jpg", quote: "Let's Ruffle Some Feathers!", swapType: "teleport" },
                    { name: "Trap Shadow", type: "swap force", game: "swap force", img: "images/trapshadow.jpg", quote: "Hide and Sleek!", swapType: "sneak" },
                    { name: "Dune Bug", type: "core", game: "swap force", img: "images/dunebug.jpg", quote: "Can't Beat the Beetle!"},
                    { name: "Star Strike", type: "core", game: "swap force", img: "images/starstrike.jpg", quote: "Shoot for the Stars!"},
                    { name: "Star Strike (LC)", type: "core", game: "swap force", img: "images/starstrike_lc.jpg", quote: "Shoot for the Stars!"},
                    { name: "Enchanted Star Strike", type: "core", game: "swap force", img: "images/enchantedstarstrike.jpg", quote: "Shoot for the Stars!"},
                    { name: "Blastermind", type: "trap master", game: "trap team", img: "images/blastermind.jpg", quote: "Mind Over Matter!"},
                    { name: "Enigma", type: "trap master", game: "trap team", img: "images/enigma.jpg", quote: "Out of Sight!"},
                    { name: "Cobra Cadabra", type: "core", game: "trap team", img: "images/cobracadabra.jpg", quote: "Charmed and Ready!"},
                    { name: "King Cobra Cadabra", type: "core", game: "trap team", img: "images/kingcobracadabra.jpg", quote: "Charmed and Ready!"},
                    { name: "Déjà Vu", type: "core", game: "trap team", img: "images/dejavu.jpg", quote: "Did That Just Happen?"},
                    { name: "Legendary Déjà Vu", type: "core", game: "trap team", img: "images/legendarydejavu.jpg", quote: "Did That Just Happen?"},
                    { name: "Splat", type: "super charger", game: "superchargers", img: "images/splat.jpg", quote: "The Art of War!"},   
                    { name: "Power Blue Splat", type: "super charger", game: "superchargers", img: "images/powerbluesplat.jpg", quote: "The Art of War!"},   
                    { name: "Buckshot", type: "sensei", game: "imaginators", img: "images/buckshot.jpg", quote: "Quiver with Fear!", battleClass: "bowslinger" }, 
                    { name: "Mysticat", type: "sensei", game: "imaginators", img: "images/mysticat.jpg", quote: "The Master of Mystery!", battleClass: "sorcerer" },
                    { name: "Pain-Yatta", type: "villain sensei", game: "imaginators", img: "images/painyatta.jpg", quote: "So Long, Sucker!", vbattleClass: "smasher" }, 

                ],
                tech: [
                    { name: "Boomer", type: "core", game: "spyros adventure", img: "images/boomer.jpg", quote: "Bring the Boom!" }, 
                    { name: "Drill Sergeant", type: "core", game: "spyros adventure", img: "images/drillsergeant.jpg", quote: "Licensed to Drill!" },
                    { name: "Drill Sergeant (S2)", type: "core", game: "giants", img: "images/drillsergeant2.jpg", quote: "Licensed to Drill!" },  
                    { name: "Drobot", type: "core", game: "spyros adventure", img: "images/drobot.jpg", quote: "Blink and Destroy!" },
                    { name: "Drobot (S2)", type: "core", game: "giants", img: "images/drobot2.jpg", quote: "Blink and Destroy!" },
                    { name: "Drobot (LC)", type: "core", game: "giants", img: "images/drobot_lc.jpg", quote: "Blink and Destroy!" },
                    { name: "Trigger Happy", type: "core", game: "spyros adventure", img: "images/triggerhappy.jpg", quote: "No Gold, No Glory!" },
                    { name: "Trigger Happy (S2)", type: "core", game: "giants", img: "images/triggerhappy2.jpg", quote: "No Gold, No Glory!" },
                    { name: "Big Bang Trigger Happy (S3)", type: "core", game: "swap force", img: "images/triggerhappy3.jpg", quote: "No Gold, No Glory!" },
                    { name: "Legendary Trigger Happy", type: "core", game: "spyros adventure", img: "images/legendarytriggerhappy.jpg", quote: "No Gold, No Glory!" },
                    { name: "Springtime Trigger Happy", type: "core", game: "swap force", img: "images/springtimetriggerhappy.jpg", quote: "No Gold, No Glory!" },
                    { name: "Double Dare Trigger Happy", type: "super charger", game: "superchargers", img: "images/doubledaretriggerhappy.jpg", quote: "No Gold, No Glory!"}, 
                    { name: "Power Blue Trigger Happy", type: "super charger", game: "superchargers", img: "images/powerbluetriggerhappy.jpg", quote: "No Gold, No Glory!"}, 
                    { name: "Bouncer", type: "giant", game: "giants", img: "images/bouncer.jpg", quote: "Deal with the Wheel!"},
                    { name: "Legendary Bouncer", type: "giant", game: "giants", img: "images/legendarybouncer.jpg", quote: "Deal with the Wheel!"},
                    { name: "Sprocket", type: "core", game: "giants", img: "images/sprocket.jpg", quote: "The Fix is In!"},
                    { name: "Heavy Duty Sprocket (S2)", type: "core", game: "swap force", img: "images/sprocket2.jpg", quote: "The Fix is In!"},
                    { name: "Magna Charge", type: "swap force", game: "swap force", img: "images/magnacharge.jpg", quote: "Attract to Attack!", swapType: "speed" },
                    { name: "Nitro Magna Charge", type: "swap force", game: "swap force", img: "images/nitromagnacharge.jpg", quote: "Attract to Attack!", swapType: "speed" },
                    { name: "Spy Rise", type: "swap force", game: "swap force", img: "images/spyrise.jpg", quote: "It's Classified!", swapType: "climb" },
                    { name: "Countdown", type: "core", game: "swap force", img: "images/countdown.jpg", quote: "I'm the Bomb!"},
                    { name: "Countdown (LC)", type: "core", game: "swap force", img: "images/countdown_lc.jpg", quote: "I'm the Bomb!"},
                    { name: "Kickoff Countdown", type: "core", game: "swap force", img: "images/kickoffcountdown.jpg", quote: "I'm the Bomb!"},
                    { name: "Wind Up", type: "core", game: "swap force", img: "images/windup.jpg", quote: "All Wound Up!"},
                    { name: "Gearshift", type: "trap master", game: "trap team", img: "images/gearshift.jpg", quote: "All Geared Up!"},
                    { name: "Jawbreaker", type: "trap master", game: "trap team", img: "images/jawbreaker.jpg", quote: "Down for the Count!"},
                    { name: "Legendary Jawbreaker", type: "trap master", game: "trap team", img: "images/legendaryjawbreaker.jpg", quote: "Down for the Count!"},
                    { name: "Chopper", type: "core", game: "trap team", img: "images/chopper.jpg", quote: "Dino Might!"},
                    { name: "Tread Head", type: "core", game: "trap team", img: "images/treadhead.jpg", quote: "Tread and Shred!"}, 
                    { name: "High Volt", type: "super charger", game: "superchargers", img: "images/highvolt.jpg", quote: "Protect and Surge!"}, 
                    { name: "Chain Reaction", type: "sensei", game: "imaginators", img: "images/chainreaction.jpg", quote: "The Saw is Law!", battleClass: "swashbuckler" }, 
                    { name: "Dr. Neo Cortex", type: "sensei", game: "imaginators", img: "images/drneocortex.jpg", quote: "MWAHAHAHAHAHAAA!", battleClass: "sorcerer" }, 
                    { name: "Ro-Bow", type: "sensei", game: "imaginators", img: "images/robow.jpg", quote: "Compute and Shoot!", battleClass: "bowslinger" }, 
                    { name: "Dr. Krancase", type: "villain sensei", game: "imaginators", img: "images/drkrancase.jpg", quote: "The Doctor is In!", vbattleClass: "quickshot" }, 
                ],
                undead: [
                    { name: "Chop Chop", type: "core", game: "spyros adventure", img: "images/chopchop.jpg", quote: "Slice and Dice!" }, 
                    { name: "Chop Chop (S2)", type: "core", game: "giants", img: "images/chopchop2.jpg", quote: "Slice and Dice!" }, 
                    { name: "Twin Blade Chop Chop (S3)", type: "core", game: "swap force", img: "images/chopchop3.jpg", quote: "Slice and Dice!" }, 
                    { name: "Legendary Chop Chop", type: "core", game: "spyros adventure", img: "images/legendarychopchop.jpg", quote: "Slice and Dice!" },
                    { name: "Cynder", type: "core", game: "spyros adventure", img: "images/cynder.jpg", quote: "Volts and Lightning!" },
                    { name: "Cynder (S2)", type: "core", game: "giants", img: "images/cynder2.jpg", quote: "Volts and Lightning!" },
                    { name: "Phantom Cynder (S3)", type: "core", game: "swap force", img: "images/cynder3.jpg", quote: "Volts and Lightning!" }, 
                    { name: "Ghost Roaster", type: "core", game: "spyros adventure", img: "images/ghostroaster.jpg", quote: "No Chain, No Gain!" }, 
                    { name: "Hex", type: "core", game: "spyros adventure", img: "images/hex.jpg", quote: "Fear the Dark!" }, 
                    { name: "Hex (S2)", type: "core", game: "giants", img: "images/hex2.jpg", quote: "Fear the Dark!" }, 
                    { name: "Hex (LC)", type: "core", game: "giants", img: "images/hex_lc.jpg", quote: "Fear the Dark!" }, 
                    { name: "Eye-Brawl", type: "giant", game: "giants", img: "images/eyebrawl.jpg", quote: "I've Got My Eye on You!" }, 
                    { name: "Fright Rider", type: "core", game: "giants", img: "images/frightrider.jpg", quote: "Fear the Spear!" },
                    { name: "Night Shift", type: "swap force", game: "swap force", img: "images/nightshift.jpg", quote: "Roll with the Punches!", swapType: "teleport" },
                    { name: "Legendary Night Shift", type: "swap force", game: "swap force", img: "images/legendarynightshift.jpg", quote: "Roll with the Punches!", swapType: "teleport" },
                    { name: "Rattle Shake", type: "swap force", game: "swap force", img: "images/rattleshake.jpg", quote: "Go Ahead… Snake My Day!", swapType: "bounce" },
                    { name: "Quickdraw Rattle Shake", type: "swap force", game: "swap force", img: "images/quickdrawrattleshake.jpg", quote: "Go Ahead… Snake My Day!", swapType: "bounce" },
                    { name: "Grim Creeper", type: "core", game: "swap force", img: "images/grimcreeper.jpg", quote: "Your Time is Up!" },
                    { name: "Grim Creeper (LC)", type: "core", game: "swap force", img: "images/grimcreeper_lc.jpg", quote: "Your Time is Up!" },
                    { name: "Legendary Grim Creeper", type: "core", game: "swap force", img: "images/legendarygrimcreeper.jpg", quote: "Your Time is Up!" },
                    { name: "Roller Brawl", type: "core", game: "swap force", img: "images/rollerbrawl.jpg", quote: "Let's Roll!" },
                    { name: "Bone Bash Roller Brawl", type: "super charger", game: "superchargers", img: "images/bonebashrollerbrawl.jpg", quote: "Let's Roll!"}, 
                    { name: "Legendary Bone Bash Roller Brawl", type: "super charger", game: "superchargers", img: "images/legendarybonebashrollerbrawl.jpg", quote: "Let's Roll!"}, 
                    { name: "Krypt King", type: "trap master", game: "trap team", img: "images/kryptking.jpg", quote: "I've Got the Edge!"},
                    { name: "Nitro Krypt King", type: "trap master", game: "trap team", img: "images/nitrokryptking.jpg", quote: "I've Got the Edge!"},
                    { name: "Short Cut", type: "trap master", game: "trap team", img: "images/shortcut.jpg", quote: "Cut To The Chase!"},
                    { name: "Bat Spin", type: "core", game: "trap team", img: "images/batspin.jpg", quote: "No Rest for the Wicked!"},
                    { name: "Funny Bone", type: "core", game: "trap team", img: "images/funnybone.jpg", quote: "I Have a Bone to Pick!"},   
                    { name: "Fiesta", type: "super charger", game: "superchargers", img: "images/fiesta.jpg", quote: "It's Party Time!"}, 
                    { name: "Frightful Fiesta", type: "super charger", game: "superchargers", img: "images/frightfulfiesta.jpg", quote: "It's Party Time!"}, 
                    { name: "Chopscotch", type: "sensei", game: "imaginators", img: "images/chopscotch.jpg", quote: "Chop 'til You Drop!", battleClass: "smasher" }, 
                    { name: "Candy-Coated Chopscotch", type: "sensei", game: "imaginators", img: "images/candycoatedchopscotch.jpg", quote: "Chop 'til You Drop!", battleClass: "smasher" }, 
                    { name: "Pit Boss", type: "sensei", game: "imaginators", img: "images/pitboss.jpg", quote: "The Scales of Justice!", battleClass: "sorcerer" },
                    { name: "Legendary Pit Boss", type: "sensei", game: "imaginators", img: "images/legendarypitboss.jpg", quote: "The Scales of Justice!", battleClass: "sorcerer" },
                    { name: "Wolfgang", type: "villain sensei", game: "imaginators", img: "images/wolfgang.jpg", quote: "Let There Be Rock!", vbattleClass: "bowslinger" }, 
                    { name: "Dark Wolfgang", type: "villain sensei", game: "imaginators", img: "images/darkwolfgang.jpg", quote: "Let There Be Rock!", vbattleClass: "bowslinger" }, 
                    
                ],
                life: [
                    { name: "Camo", type: "core", game: "spyros adventure", img: "images/camo.jpg", quote: "Fruit Punch!" }, 
                    { name: "Thorn Horn Camo (S2)", type: "core", game: "swap force", img: "images/camo2.jpg", quote: "Fruit Punch!" },
                    { name: "Stealth Elf", type: "core", game: "spyros adventure", img: "images/stealthelf.jpg", quote: "Silent But Deadly!" },  
                    { name: "Stealth Elf (S2)", type: "core", game: "giants", img: "images/stealthelf2.jpg", quote: "Silent But Deadly!" }, 
                    { name: "Ninja Stealth Elf (S3)", type: "core", game: "swap force", img: "images/stealthelf3.jpg", quote: "Silent But Deadly!" },
                    { name: "Legendary Stealth Elf", type: "core", game: "giants", img: "images/legendarystealthelf.jpg", quote: "Silent But Deadly!" }, 
                    { name: "Dark Stealth Elf", type: "core", game: "swap force", img: "images/darkstealthelf.jpg", quote: "Silent But Deadly!" },   
                    { name: "Super Shot Stealth Elf", type: "super charger", game: "superchargers", img: "images/supershotstealthelf.jpg", quote: "Silent But Deadly!" },
                    { name: "Dark Super Shot Stealth Elf", type: "super charger", game: "superchargers", img: "images/darksupershotstealthelf.jpg", quote: "Silent But Deadly!" },
                    { name: "Stump Smash", type: "core", game: "spyros adventure", img: "images/stumpsmash.jpg", quote: "Drop the Hammer!" },
                    { name: "Stump Smash (S2)", type: "core", game: "giants", img: "images/stumpsmash2.jpg", quote: "Drop the Hammer!" },
                    { name: "Zook", type: "core", game: "spyros adventure", img: "images/zook.jpg", quote: "Bamboo-Yah!" },
                    { name: "Zook (S2)", type: "core", game: "giants", img: "images/zook2.jpg", quote: "Bamboo-Yah!" },
                    { name: "Tree Rex", type: "giant", game: "giants", img: "images/treerex.jpg", quote: "Be Afraid of the Bark!" },
                    { name: "Gnarly Tree Rex", type: "giant", game: "giants", img: "images/gnarlytreerex.jpg", quote: "Be Afraid of the Bark!" },
                    { name: "Shroomboom", type: "core", game: "giants", img: "images/shroomboom.jpg", quote: "He Shoots, He Spores!" },
                    { name: "Shroomboom (LC)", type: "core", game: "giants", img: "images/shroomboom_lc.jpg", quote: "He Shoots, He Spores!" },
                    { name: "Sure Shot Shroomboom (S2)", type: "core", game: "trap team", img: "images/shroomboom2.jpg", quote: "He Shoots, He Spores!" },
                    { name: "Grilla Drilla", type: "swap force", game: "swap force", img: "images/grilladrilla.jpg", quote: "If there's a drill, there's a way!", swapType: "dig" },
                    { name: "Stink Bomb", type: "swap force", game: "swap force", img: "images/stinkbomb.jpg", quote: "If there's a drill, there's a way!", swapType: "sneak" },
                    { name: "Bumble Blast", type: "core", game: "swap force", img: "images/bumbleblast.jpg", quote: "The Perfect Swarm!" },
                    { name: "Bumble Blast (LC)", type: "core", game: "swap force", img: "images/bumbleblast_lc.jpg", quote: "The Perfect Swarm!" },
                    { name: "Jolly Bumble Blast", type: "core", game: "swap force", img: "images/jollybumbleblast.jpg", quote: "The Perfect Swarm!" },
                    { name: "Zoo Lou", type: "core", game: "swap force", img: "images/zoolou.jpg", quote: "Nature Calls!" },
                    { name: "Legendary Zoo Lou", type: "core", game: "swap force", img: "images/legendaryzoolou.jpg", quote: "Nature Calls!" },
                    { name: "Bushwhack", type: "trap master", game: "trap team", img: "images/bushwhack.jpg", quote: "Axe to the Max!"},
                    { name: "Legendary Bushwhack", type: "trap master", game: "trap team", img: "images/legendarybushwhack.jpg", quote: "Axe to the Max!"},
                    { name: "Tuff Luck", type: "trap master", game: "trap team", img: "images/tuffluck.jpg", quote: "Deal With It!"},  
                    { name: "Food Fight", type: "core", game: "trap team", img: "images/foodfight.jpg", quote: "Eat This!"},   
                    { name: "Dark Food Fight", type: "core", game: "trap team", img: "images/darkfoodfight.jpg", quote: "Eat This!"}, 
                    { name: "High Five", type: "core", game: "trap team", img: "images/highfive.jpg", quote: "Buzz Off!"},   
                    { name: "Thrillipede", type: "super charger", game: "superchargers", img: "images/thrillipede.jpg", quote: "All Hands on Deck!"}, 
                    { name: "Eggcited Thrillipede", type: "super charger", game: "superchargers", img: "images/eggcitedthrillipede.jpg", quote: "All Hands on Deck!"}, 
                    { name: "Turbo Charge Donkey Kong", type: "super charger", game: "superchargers", img: "images/turbochargedonkeykong.jpg", quote: "Yeehayyy!"}, 
                    { name: "Dark Turbo Charge Donkey Kong", type: "super charger", game: "superchargers", img: "images/darkturbochargedonkeykong.jpg", quote: "Yeehayyy!"}, 
                    { name: "Ambush", type: "sensei", game: "imaginators", img: "images/ambush.jpg", quote: "Weed 'Em and Reap!", battleClass: "knight" }, 
                    { name: "Boom Bloom", type: "sensei", game: "imaginators", img: "images/boombloom.jpg", quote: "Rooting Out Evil!", battleClass: "ninja" }, 
                    { name: "Crash Bandicoot", type: "sensei", game: "imaginators", img: "images/crashbandicoot.jpg", quote: "Yahaaa-huhuuu!", battleClass: "brawler" }, 
                    { name: "Chompy Mage", type: "villain sensei", game: "imaginators", img: "images/chompymage.jpg", quote: "Chompy Power!", vbattleClass: "bazooker" }, 
                    { name: "Jingle Bell Chompy Mage", type: "villain sensei", game: "imaginators", img: "images/jinglebellchompymage.jpg", quote: "Chompy Power!", vbattleClass: "bazooker" }, 
                    
                ],
                light: [
                    { name: "Knight Light", type: "trap master", game: "trap team", img: "images/knightlight.jpg", quote: "See the Light!"},
                    { name: "Spotlight", type: "core", game: "trap team", img: "images/spotlight.jpg", quote: "Time to Shine!"}, 
                    { name: "Astroblast", type: "super charger", game: "superchargers", img: "images/astroblast.jpg", quote: "Ready, Set, Glow!"}, 
                    { name: "Legendary Astroblast", type: "super charger", game: "superchargers", img: "images/legendaryastroblast.jpg", quote: "Ready, Set, Glow!"}, 
                    { name: "Aurora", type: "sensei", game: "imaginators", img: "images/aurora.jpg", quote: "The Speed of Light!", battleClass: "swashbuckler" }, 
                    { name: "Solar Flare Aurora", type: "sensei", game: "imaginators", img: "images/solarflareaurora.jpg", quote: "The Speed of Light!", battleClass: "swashbuckler" }, 
                    { name: "Blaster-Tron", type: "villain sensei", game: "imaginators", img: "images/blastertron.jpg", quote: "Target Acquired!", vbattleClass: "knight" }, 
                    
                ],
                dark: [
                    { name: "Knight Mare", type: "trap master", game: "trap team", img: "images/knightmare.jpg", quote: "Nowhere to Hide!"},
                    { name: "Blackout", type: "core", game: "trap team", img: "images/blackout.jpg", quote: "Darkness Falls!"},
                    { name: "Nightfall", type: "super charger", game: "superchargers", img: "images/nightfall.jpg", quote: "Dark and Dangerous!"}, 
                    { name: "Starcast", type: "sensei", game: "imaginators", img: "images/starcast.jpg", quote: "A Shot in the Dark!", battleClass: "ninja" }, 
                    { name: "Hood Sickle", type: "villain sensei", game: "imaginators", img: "images/hoodsickle.jpg", quote: "Any Last Words?", vbattleClass: "sentinel" }, 
                    { name: "Steel Plated Hood Sickle", type: "villain sensei", game: "imaginators", img: "images/steelplatedhoodsickle.jpg", quote: "Any Last Words?", vbattleClass: "sentinel" }, 
                  
                ]
    }
    
    const gallery = document.getElementById('gallery-container');
    const filter = document.getElementById('element-filter');
    const trashZone = document.getElementById("trash-zone");
    const gameOrder = ["spyros adventure", "giants", "swap force", "trap team", "superchargers", "imaginators"];

    const gameFilter = document.getElementById("game-filter");
    const galleryWrapper = document.querySelector(".gallery");

    gameFilter.addEventListener("change", () => {
      const game = gameFilter.value;

      // Clear previous background classes
      galleryWrapper.className = "gallery";

      if (game !== "all") {
        const className = `bg-${game.toLowerCase().replace(/\s+/g, "-")}`;
        galleryWrapper.classList.add(className);
      }
    });

    
    const currentDeck = new Array(10).fill(null);
    
    function inferElement(name) {
      for (const element in skylanders) {
        if (skylanders[element].some(sky => sky.name === name)) {
          return element;
        }
      }
      return null;
    }

    function renderSkylanders(filterValue) {
      gallery.innerHTML = "";

      const deckNames = currentDeck.filter(Boolean).map(sky => sky.name);

      const typeFilter = document.getElementById('type-filter').value.toLowerCase();
      const gameFilter = document.getElementById('game-filter').value.toLowerCase();

      for (const element in skylanders) {
        if (filterValue === "all" || filterValue === element) {
          skylanders[element].forEach(skylander => {
            if (deckNames.includes(skylander.name)) return;

            const matchesType = typeFilter === "all" || skylander.type.toLowerCase() === typeFilter;
            let matchesGame = gameFilter === "all" || skylander.game.toLowerCase() === gameFilter;

            const includePrevious = document.getElementById("include-previous-games").checked;

            if (includePrevious && gameFilter !== "all") {
              const gameOrder = ["spyros adventure", "giants", "swap force", "trap team", "superchargers", "imaginators"];
              const selectedIndex = gameOrder.indexOf(gameFilter);
              const skyGameIndex = gameOrder.indexOf(skylander.game.toLowerCase());
              matchesGame = skyGameIndex <= selectedIndex;
            }

            if (!matchesType || !matchesGame) return;

            const card = document.createElement('div');
            card.className = 'skylander-card';
            card.setAttribute("data-element", element); 
            card.draggable = true;

            card.innerHTML = `
            <div class="skylander-portrait-container">
                <img src="${skylander.img}" alt="${skylander.name}" class="skylander-portrait">
                <img src="images/elements/${element.toLowerCase()}_icon.png" alt="${element}" class="element-icon corner-icon-left">
                ${
                  skylander.type.toLowerCase() === "giant" ? `<img src="images/elements/giant_icon.png" alt="Giant" class="type-icon corner-icon-right">` : 
                  skylander.swapType ? `<img src="images/elements/${skylander.swapType}_icon.png" alt="${skylander.swapType}" class="type-icon corner-icon-right">` :
                  skylander.type.toLowerCase() === "trap master" ? `<img src="images/elements/trap_master_icon.png" alt="Trap Master" class="type-icon corner-icon-right">` :
                  skylander.type.toLowerCase() === "super charger" ? `<img src="images/elements/super_charger_icon.png" alt="Super Charger" class="type-icon corner-icon-right">` :
                  skylander.battleClass ? `<img src="images/elements/${skylander.battleClass}_icon.png" alt="${skylander.battleClass}" class="type-icon corner-icon-right">` :
                  skylander.vbattleClass ? `<img src="images/elements/villain_${skylander.vbattleClass}_icon.png" alt="${skylander.vbattleClass}" class="type-icon corner-icon-right">` :
                  ""
                }
              </div>
              <div class="skylander-info">
                <strong>${skylander.name}</strong>
                <em>"${skylander.quote}"</em>
              </div>
            `;

            card.addEventListener("dragstart", (event) => {
              event.dataTransfer.setData("text/plain", JSON.stringify({ ...skylander, element }));
            });

            gallery.appendChild(card);
          });
        }
      }
    }

    function renderDeck(deck) {
      const deckContainer = document.getElementById("deck-container");
      deckContainer.innerHTML = "";

      for (let i = 0; i < deck.length; i++) {
        const card = document.createElement("div");
        card.className = "skylander-card";
        

        card.dataset.index = i;

        if (deck[i]) {
          const sky = deck[i];
          card.setAttribute("data-element", sky.element); 
          card.innerHTML = `
            <div class="skylander-portrait-container">
              <img src="${sky.img}" alt="${sky.name}" class="skylander-portrait">
              <img src="images/elements/${sky.element.toLowerCase()}_icon.png" alt="${sky.element}" class="element-icon corner-icon-left">
              ${
                sky.type.toLowerCase() === "giant" ? `<img src="images/elements/giant_icon.png" alt="Giant" class="type-icon corner-icon-right">` : 
                sky.swapType ? `<img src="images/elements/${sky.swapType}_icon.png" alt="${sky.swapType}" class="type-icon corner-icon-right">` :
                sky.type.toLowerCase() === "trap master" ? `<img src="images/elements/trap_master_icon.png" alt="Trap Master" class="type-icon corner-icon-right">` :
                sky.type.toLowerCase() === "super charger" ? `<img src="images/elements/super_charger_icon.png" alt="Super Charger" class="type-icon corner-icon-right">` :
                sky.battleClass ? `<img src="images/elements/${sky.battleClass}_icon.png" alt="${sky.battleClass}" class="type-icon corner-icon-right">` :
                sky.vbattleClass ? `<img src="images/elements/villain_${sky.vbattleClass}_icon.png" alt="${sky.vbattleClass}" class="type-icon corner-icon-right">` :
                ""
              }
            </div>
            <div class="skylander-info">
              <strong>${sky.name}</strong>
              <em>"${sky.quote}"</em>
            </div>
          `;
          card.draggable = true;

          card.addEventListener("dragstart", (event) => {
            event.dataTransfer.setData("text/plain", JSON.stringify({ ...sky, fromDeckIndex: i }));
          });
        } else {
          card.classList.add("empty-slot");
          card.innerHTML = `<div class="skylander-info"><strong>Empty Slot</strong></div>`;

        }

        card.addEventListener("dragover", (e) => e.preventDefault());

        card.addEventListener("drop", (e) => {
          e.preventDefault();
          const data = JSON.parse(e.dataTransfer.getData("text/plain"));
          const fromIndex = data.fromDeckIndex;

          if (typeof fromIndex === "number") {
            // Swap within deck
            const temp = deck[i];
            deck[i] = deck[fromIndex];
            deck[fromIndex] = temp;
          } else {
            // Add from gallery if not a duplicate
            const alreadyExists = deck.some(d => d && d.name === data.name);
            if (!alreadyExists) {
              deck[i] = data;
            }
          }

          renderDeck(deck);
          renderSkylanders(filter.value);
        });

        deckContainer.appendChild(card);
      }
    }

    filter.addEventListener("change", () => {
      renderSkylanders(filter.value);
    });

    trashZone.addEventListener("dragover", (e) => e.preventDefault());

    trashZone.addEventListener("drop", (e) => {
      e.preventDefault();
      const data = JSON.parse(e.dataTransfer.getData("text/plain"));
      const fromIndex = data.fromDeckIndex;

      if (typeof fromIndex === "number") {
        currentDeck[fromIndex] = null;
        renderDeck(currentDeck);
        localStorage.setItem("savedDeck", JSON.stringify(currentDeck));
        renderSkylanders(filter.value);
      }
    });

    document.getElementById("type-filter").addEventListener("change", () => {
      renderSkylanders(filter.value);
    });

    document.getElementById("game-filter").addEventListener("change", () => {
      renderSkylanders(filter.value);
    });

    document.getElementById("include-previous-games").addEventListener("change", () => {
      renderSkylanders(filter.value);
    });

    document.getElementById("clear-deck-button").addEventListener("click", () => {
      for (let i = 0; i < currentDeck.length; i++) {
        currentDeck[i] = null;
      }
      localStorage.removeItem("savedDeck");
      renderDeck(currentDeck);
      localStorage.setItem("savedDeck", JSON.stringify(currentDeck));
      renderSkylanders(filter.value);
    });

    document.getElementById("random-deck-button").addEventListener("click", () => {
      const elementFilter = document.getElementById("element-filter").value.toLowerCase();
      const typeFilter = document.getElementById("type-filter").value.toLowerCase();
      const gameFilter = document.getElementById("game-filter").value.toLowerCase();

      const allSkylanders = [];

      for (const element in skylanders) {
        if (elementFilter === "all" || element === elementFilter) {
          skylanders[element].forEach(sky => {
            const matchesType = typeFilter === "all" || sky.type.toLowerCase() === typeFilter;

            let matchesGame = gameFilter === "all" || sky.game.toLowerCase() === gameFilter;

            const includePrevious = document.getElementById("include-previous-games").checked;

            if (includePrevious && gameFilter !== "all") {
              const selectedIndex = gameOrder.indexOf(gameFilter);
              const skyGameIndex = gameOrder.indexOf(sky.game.toLowerCase());
              matchesGame = skyGameIndex <= selectedIndex;
            }

            if (matchesType && matchesGame) {
              allSkylanders.push({ ...sky, element });
            }
          });
        }
      }

      const selected = [];
      while (selected.length < 10 && allSkylanders.length > 0) {
        const index = Math.floor(Math.random() * allSkylanders.length);
        selected.push(allSkylanders.splice(index, 1)[0]);
      }

      for (let i = 0; i < currentDeck.length; i++) {
        currentDeck[i] = selected[i] || null;
      }

      renderDeck(currentDeck);
      localStorage.setItem("savedDeck", JSON.stringify(currentDeck));
      renderSkylanders(elementFilter);
    });

    document.getElementById("random-per-element-button").addEventListener("click", () => {
      const elementFilter = document.getElementById("element-filter").value.toLowerCase();
      const typeFilter = document.getElementById("type-filter").value.toLowerCase();
      const gameFilter = document.getElementById("game-filter").value.toLowerCase();

      const selected = [];

      for (const element in skylanders) {
        if (elementFilter !== "all" && element !== elementFilter) continue;

        const filtered = skylanders[element].filter(sky => {
          const matchesType = typeFilter === "all" || sky.type.toLowerCase() === typeFilter;
          
          let matchesGame = gameFilter === "all" || sky.game.toLowerCase() === gameFilter;

          const includePrevious = document.getElementById("include-previous-games").checked;

          if (includePrevious && gameFilter !== "all") {
            const selectedIndex = gameOrder.indexOf(gameFilter);
            const skyGameIndex = gameOrder.indexOf(sky.game.toLowerCase());
            matchesGame = skyGameIndex <= selectedIndex;
          }

          return matchesType && matchesGame;
        });

        if (filtered.length > 0) {
          const choice = filtered[Math.floor(Math.random() * filtered.length)];
          selected.push({ ...choice, element });
        }
      }

      for (let i = 0; i < currentDeck.length; i++) {
        currentDeck[i] = selected[i] || null;
      }

      renderDeck(currentDeck);
      localStorage.setItem("savedDeck", JSON.stringify(currentDeck));
      renderSkylanders(elementFilter);
    });

    document.getElementById("random-one-button").addEventListener("click", () => {
      const elementFilter = document.getElementById("element-filter").value.toLowerCase();
      const typeFilter = document.getElementById("type-filter").value.toLowerCase();
      const gameFilter = document.getElementById("game-filter").value.toLowerCase();

      const allSkylanders = [];

      for (const element in skylanders) {
        if (elementFilter === "all" || element === elementFilter) {
          skylanders[element].forEach(sky => {
            const matchesType = typeFilter === "all" || sky.type.toLowerCase() === typeFilter;
            
            let matchesGame = gameFilter === "all" || sky.game.toLowerCase() === gameFilter;

            const includePrevious = document.getElementById("include-previous-games").checked;

            if (includePrevious && gameFilter !== "all") {
              const selectedIndex = gameOrder.indexOf(gameFilter);
              const skyGameIndex = gameOrder.indexOf(sky.game.toLowerCase());
              matchesGame = skyGameIndex <= selectedIndex;
            }

            const notInDeck = !currentDeck.some(d => d && d.name === sky.name);
            if (matchesType && matchesGame && notInDeck) {
              allSkylanders.push({ ...sky, element });
            }
          });
        }
      }

      const emptyIndex = currentDeck.findIndex(slot => slot === null);
      if (emptyIndex === -1 || allSkylanders.length === 0) return;

      const random = allSkylanders[Math.floor(Math.random() * allSkylanders.length)];
      currentDeck[emptyIndex] = random;

      renderDeck(currentDeck);
      localStorage.setItem("savedDeck", JSON.stringify(currentDeck));
      renderSkylanders(elementFilter);
    });

    document.getElementById("export-deck-button").addEventListener("click", () => {
      const deckWithElement = currentDeck.map(sky => {
        if (!sky) return null;
        return {
          ...sky,
          element: sky.element || inferElement(sky.name)
        };
      });

      const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(deckWithElement, null, 2));
      const dlAnchor = document.createElement("a");
      dlAnchor.setAttribute("href", dataStr);
      dlAnchor.setAttribute("download", "skylanders_deck.json");
      dlAnchor.click();
    });


    document.getElementById("import-deck-button").addEventListener("click", () => {
      document.getElementById("import-deck-input").click();
    });

    document.getElementById("import-deck-input").addEventListener("change", (event) => {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const importedDeck = JSON.parse(e.target.result);
          for (let i = 0; i < currentDeck.length; i++) {
            const sky = importedDeck[i];
            currentDeck[i] = sky ? { ...sky, element: sky.element || inferElement(sky.name) } : null;
          }
          localStorage.setItem("savedDeck", JSON.stringify(currentDeck));
          renderDeck(currentDeck);
          renderSkylanders(document.getElementById('element-filter').value);
        } catch (err) {
          alert("Failed to load deck: " + err.message);
        }
      };
      reader.readAsText(file);
    });


    renderSkylanders("all");
    renderDeck(currentDeck);
    
    window.addEventListener("beforeunload", function (e) {
      const hasCards = currentDeck.some(slot => slot !== null);
      if (hasCards) {
        e.preventDefault();
        e.returnValue = ""; // Required for Chrome to show the prompt
        return "";
      }
    });


  
    const toggleGalleryBtn = document.getElementById('toggle-gallery');
    toggleGalleryBtn.addEventListener('click', () => {
      const isDeckOnly = document.body.classList.toggle('deck-only');
      toggleGalleryBtn.textContent = isDeckOnly ? '🧩 Show Collect.' : '🧩 Hide Collect.';
    });

